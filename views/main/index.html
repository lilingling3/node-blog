{% extends 'layout.html'%}

{% block content %}
{% for content in contents %}
    <div class="list">
        <h1>{{content.title}}</h1>
        <p>
            作者：<span>{{content.user.username}}</span>
            时间：<span>{{content.addTime | date('Y年m月d日 H:i:s', -8*60)}}</span>
            阅读量：<span>{{content.views}}</span>
            评论：<span>{{content.comments.length}}</span>
        </p>
        <dfn><p>{{content.description}}</p></dfn>
        <div class="readAll"><a href="/views?contentid={{content.id}}">点击阅读全文</a></div>
    </div>
    {% endfor %}
    <ul class="pagination">
        <li>
            {% if page <=1 %}
            <span>没有上一页了</span>
            {% else %}
            <a href="/?category={{category}}page={{page-1}}">上一页</a>
            {% endif %}

        </li>
        {% if pages >= 0 %}
        <li>
            <strong>{{page}} / {{pages}}</strong>
        </li>
        {% else %}
        <li>
            <strong>当前没有该分类</strong>
        </li>
        {% endif %}
        <li>
            {% if page >=pages %}
            <span>没有下一页了</span>
            {% else %}
            <a href="/?category={{category}}&page={{page+1}}">下一页</a>
            {% endif %}
        </li>
    </ul>
{% endblock%}